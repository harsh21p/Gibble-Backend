{
  "info": {
    "_postman_id": "6f8db4e0-2c4c-4c17-9b1e-29a5df6b4b2b",
    "name": "Learning Platform",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "description": "Identity, profiles, and learning flows for the online learning platform. Use {{base_url}} (defaults to http://localhost:8080)."
  },
  "item": [
    {
      "name": "Identity - Register",
      "request": {
        "method": "POST",
        "header": [
          {"key": "Content-Type", "value": "application/json"}
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"student1@example.com\",\n  \"password\": \"ChangeMe@123\",\n  \"displayName\": \"Student One\",\n  \"role\": \"STUDENT\"\n}"
        },
        "url": {"raw": "{{base_url}}/api/identity/auth/register", "host": ["{{base_url}}"], "path": ["api", "identity", "auth", "register"]}
      }
    },
    {
      "name": "Identity - Login",
      "request": {
        "method": "POST",
        "header": [
          {"key": "Content-Type", "value": "application/json"}
        ],
        "body": {
          "mode": "raw",
          "raw": "{\n  \"email\": \"student1@example.com\",\n  \"password\": \"ChangeMe@123\"\n}"
        },
        "url": {"raw": "{{base_url}}/api/identity/auth/login", "host": ["{{base_url}}"], "path": ["api", "identity", "auth", "login"]}
      }
    },
    {
      "name": "Identity - Validate Token",
      "request": {
        "method": "POST",
        "header": [
          {"key": "Content-Type", "value": "application/json"}
        ],
        "body": {"mode": "raw", "raw": "{\n  \"token\": \"{{access_token}}\"\n}"},
        "url": {"raw": "{{base_url}}/api/identity/auth/validate", "host": ["{{base_url}}"], "path": ["api", "identity", "auth", "validate"]}
      }
    },
    {
      "name": "Admin - Update Role",
      "request": {
        "method": "PATCH",
        "header": [
          {"key": "Authorization", "value": "Bearer {{admin_token}}"},
          {"key": "Content-Type", "value": "application/json"}
        ],
        "body": {"mode": "raw", "raw": "{\n  \"role\": \"TEACHER\"\n}"},
        "url": {"raw": "{{base_url}}/api/identity/accounts/{{account_id}}/role", "host": ["{{base_url}}"], "path": ["api","identity","accounts","{{account_id}}","role"]}
      }
    },
    {
      "name": "Profiles - Me",
      "request": {
        "method": "GET",
        "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
        "url": {"raw": "{{base_url}}/api/profiles/me", "host": ["{{base_url}}"], "path": ["api","profiles","me"]}
      }
    },
    {
      "name": "Profiles - Update Me",
      "request": {
        "method": "PUT",
        "header": [
          {"key": "Authorization", "value": "Bearer {{access_token}}"},
          {"key": "Content-Type", "value": "application/json"}
        ],
        "body": {"mode": "raw", "raw": "{\n  \"firstName\": \"Student\",\n  \"lastName\": \"One\",\n  \"headline\": \"CS Major\",\n  \"bio\": \"Aspiring engineer.\",\n  \"timezone\": \"UTC\"\n}"},
        "url": {"raw": "{{base_url}}/api/profiles/me", "host": ["{{base_url}}"], "path": ["api","profiles","me"]}
      }
    },
    {
      "name": "Learning - Create Course",
      "request": {
        "method": "POST",
        "header": [
          {"key": "Authorization", "value": "Bearer {{teacher_token}}"},
          {"key": "Content-Type", "value": "application/json"}
        ],
        "body": {"mode": "raw", "raw": "{\n  \"title\": \"Intro to Java\",\n  \"description\": \"Basics of Java and Spring Boot\",\n  \"category\": \"Backend\",\n  \"level\": \"Beginner\"\n}"},
        "url": {"raw": "{{base_url}}/api/learning/courses", "host": ["{{base_url}}"], "path": ["api","learning","courses"]}
      }
    },
    {
      "name": "Learning - Publish Course",
      "request": {
        "method": "POST",
        "header": [{"key": "Authorization", "value": "Bearer {{teacher_token}}"}],
        "url": {"raw": "{{base_url}}/api/learning/courses/{{course_id}}/publish", "host": ["{{base_url}}"], "path": ["api","learning","courses","{{course_id}}","publish"]}
      }
    },
    {
      "name": "Learning - List Courses",
      "request": {
        "method": "GET",
        "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
        "url": {"raw": "{{base_url}}/api/learning/courses", "host": ["{{base_url}}"], "path": ["api","learning","courses"]}
      }
    },
    {
      "name": "Learning - Enroll",
      "request": {
        "method": "POST",
        "header": [{"key": "Authorization", "value": "Bearer {{access_token}}"}],
        "url": {"raw": "{{base_url}}/api/learning/enrollments/{{course_id}}", "host": ["{{base_url}}"], "path": ["api","learning","enrollments","{{course_id}}"]}
      }
    },
    {
      "name": "Learning - Create Assessment",
      "request": {
        "method": "POST",
        "header": [
          {"key": "Authorization", "value": "Bearer {{teacher_token}}"},
          {"key": "Content-Type", "value": "application/json"}
        ],
        "body": {"mode": "raw", "raw": "{\n  \"title\": \"Module 1 Quiz\",\n  \"instructions\": \"Answer all questions\",\n  \"type\": \"QUIZ\",\n  \"maxScore\": 100\n}"},
        "url": {"raw": "{{base_url}}/api/learning/courses/{{course_id}}/assessments", "host": ["{{base_url}}"], "path": ["api","learning","courses","{{course_id}}","assessments"]}
      }
    },
    {
      "name": "Learning - Submit Assessment",
      "request": {
        "method": "POST",
        "header": [
          {"key": "Authorization", "value": "Bearer {{access_token}}"},
          {"key": "Content-Type", "value": "application/json"}
        ],
        "body": {"mode": "raw", "raw": "{\n  \"submissionLink\": \"https://github.com/example/submission\"\n}"},
        "url": {"raw": "{{base_url}}/api/learning/assessments/{{assessment_id}}/submissions", "host": ["{{base_url}}"], "path": ["api","learning","assessments","{{assessment_id}}","submissions"]}
      }
    },
    {
      "name": "Learning - Grade Submission",
      "request": {
        "method": "PATCH",
        "header": [
          {"key": "Authorization", "value": "Bearer {{teacher_token}}"},
          {"key": "Content-Type", "value": "application/json"}
        ],
        "body": {"mode": "raw", "raw": "{\n  \"score\": 95,\n  \"feedback\": \"Great work\"\n}"},
        "url": {"raw": "{{base_url}}/api/learning/submissions/{{submission_id}}/grade", "host": ["{{base_url}}"], "path": ["api","learning","submissions","{{submission_id}}","grade"]}
      }
    }
  ],
  "variable": [
    {"key": "base_url", "value": "http://localhost:8080"},
    {"key": "access_token", "value": ""},
    {"key": "teacher_token", "value": ""},
    {"key": "admin_token", "value": ""},
    {"key": "course_id", "value": ""},
    {"key": "assessment_id", "value": ""},
    {"key": "submission_id", "value": ""},
    {"key": "account_id", "value": ""}
  ]
}
